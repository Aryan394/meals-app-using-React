{"ast":null,"code":"var _jsxFileName = \"/Users/aryan/Desktop/mealsApp/my-meals-app/src/context.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nconst AppContext = /*#__PURE__*/React.createContext();\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst allMealsUrl = 'https://www.themealdb.com/api/json/v1/1/search.php?s=';\nconst randomMealURL = \"https://www.themealdb.com/api/json/v1/1/random.php\";\nconst getFavoritesFromLocalStorage = () => {\n  let favorites = localStorage.getItem('favorites');\n  if (favorites) {\n    favorites = JSON.parse(localStorage.getItem('favorites'));\n  } else {\n    favorites = [];\n  }\n  return favorites;\n};\nconst AppProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(false);\n  const [meals, setMeals] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [selectedMeal, setSelectedMeal] = useState(null);\n  const [favorites, setFavorites] = useState(getFavoritesFromLocalStorage());\n  const fetchMeals = async url => {\n    setLoading(true);\n    try {\n      const {\n        data\n      } = await axios(url);\n      setMeals(data.meals);\n    } catch (err) {\n      console.log(err.response);\n    }\n    setLoading(false);\n  };\n  const fetchRandomMeal = () => {\n    fetchMeals(randomMealURL);\n  };\n  const selectMeal = (idMeal, favouriteMeal) => {\n    // console.log(console.log(idMeal));\n    let meal;\n    if (favouriteMeal) {\n      meal = favorites.find(meal => meal.idMeal === idMeal);\n    } else {\n      meal = meals.find(meal => meal.idMeal === idMeal);\n    }\n    setSelectedMeal(meal);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n  };\n  const addToFavorites = idMeal => {\n    // console.log(idMeal);\n    const meal = meals.find(meal => meal.idMeal === idMeal);\n    const alreadyFavorite = favorites.find(meal => meal.idMeal === idMeal);\n    if (alreadyFavorite) return;\n    const updatedFavorites = [...favorites, meal];\n    setFavorites(updatedFavorites);\n    // console.log(favorites);\n    localStorage.setItem(\"favorites\", JSON.stringify(updatedFavorites));\n  };\n  const removeFromFavorites = idMeal => {\n    const updatedFavorites = favorites.filter(meal => meal.idMeal !== idMeal);\n    setFavorites(updatedFavorites);\n    localStorage.setItem(\"favorites\", JSON.stringify(updatedFavorites));\n  };\n  useEffect(() => {\n    if (!searchTerm) return;\n    fetchMeals(allMealsUrl);\n  }, []);\n  useEffect(() => {\n    fetchMeals(allMealsUrl + searchTerm);\n  }, [searchTerm]);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      loading,\n      meals,\n      setSearchTerm,\n      fetchRandomMeal,\n      showModal,\n      selectedMeal,\n      selectMeal,\n      closeModal,\n      addToFavorites,\n      removeFromFavorites,\n      favorites\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 10\n  }, this);\n};\n_s(AppProvider, \"NW0fm6MjY6SOZpJcV9GRlD86u0Y=\");\n_c = AppProvider;\nconst useGlobalContext = () => {\n  _s2();\n  return useContext(AppContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { AppContext, AppProvider, useGlobalContext };\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","useContext","useEffect","useState","AppContext","createContext","axios","jsxDEV","_jsxDEV","allMealsUrl","randomMealURL","getFavoritesFromLocalStorage","favorites","localStorage","getItem","JSON","parse","AppProvider","_ref","_s","children","loading","setLoading","meals","setMeals","searchTerm","setSearchTerm","showModal","setShowModal","selectedMeal","setSelectedMeal","setFavorites","fetchMeals","url","data","err","console","log","response","fetchRandomMeal","selectMeal","idMeal","favouriteMeal","meal","find","closeModal","addToFavorites","alreadyFavorite","updatedFavorites","setItem","stringify","removeFromFavorites","filter","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["/Users/aryan/Desktop/mealsApp/my-meals-app/src/context.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState} from 'react';\n\nconst AppContext = React.createContext()\n\nimport axios from 'axios';\nconst allMealsUrl = 'https://www.themealdb.com/api/json/v1/1/search.php?s=';\nconst randomMealURL = \"https://www.themealdb.com/api/json/v1/1/random.php\";\nconst getFavoritesFromLocalStorage=()=>{\n  let favorites = localStorage.getItem('favorites');\n  if(favorites){\n    favorites = JSON.parse(localStorage.getItem('favorites'));\n  }\n  else{\n    favorites = [];\n  }\n  return favorites;\n}\nconst AppProvider = ({ children }) => {\n  const [loading, setLoading] = useState(false); \n  const [meals, setMeals] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [selectedMeal, setSelectedMeal] = useState(null);\n  const [favorites, setFavorites] = useState(getFavoritesFromLocalStorage());\n  \n  const fetchMeals = async(url)=>{\n    setLoading(true);\n      try{\n        const {data} = await axios(url);\n        setMeals(data.meals);      \n      }\n      catch(err){\n        console.log(err.response);\n      }\n    setLoading(false); \n    }\n\n  const fetchRandomMeal=()=>{\n    fetchMeals(randomMealURL);\n  }\n  const selectMeal=(idMeal, favouriteMeal) =>{\n    // console.log(console.log(idMeal));\n    let meal;\n    if(favouriteMeal){\n      meal = favorites.find((meal)=>meal.idMeal === idMeal);\n    }    \n    else{\n      meal = meals.find((meal)=>meal.idMeal === idMeal);\n    }\n    setSelectedMeal(meal);\n    setShowModal(true);\n  }\n  const closeModal= ()=>{\n    setShowModal(false);\n    \n  }\n  const addToFavorites= (idMeal)=>{\n    // console.log(idMeal);\n    const meal = meals.find((meal)=>meal.idMeal === idMeal);\n    const alreadyFavorite = favorites.find((meal)=>meal.idMeal === idMeal);\n    if(alreadyFavorite) return;\n    const updatedFavorites = [...favorites, meal];\n    setFavorites(updatedFavorites);\n    // console.log(favorites);\n    localStorage.setItem(\"favorites\", JSON.stringify(updatedFavorites));\n    \n  }\n  const removeFromFavorites= (idMeal)=>{\n    const updatedFavorites = favorites.filter((meal)=> meal.idMeal!== idMeal);\n    setFavorites(updatedFavorites);\n    localStorage.setItem(\"favorites\", JSON.stringify(updatedFavorites));\n  }\n  useEffect(() => {\n    if(!searchTerm) return;\n    fetchMeals(allMealsUrl);\n  }, [])\n  useEffect(() => {\n    fetchMeals(allMealsUrl+searchTerm);\n  }, [searchTerm])\n  return <AppContext.Provider value={{loading, meals, setSearchTerm, fetchRandomMeal, showModal, selectedMeal, selectMeal, closeModal, addToFavorites, removeFromFavorites, favorites}}>\n    {children}\n  </AppContext.Provider>\n}\n\n\nconst useGlobalContext = () => {\n  return useContext(AppContext);\n}\n\nexport { AppContext, AppProvider, useGlobalContext };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}